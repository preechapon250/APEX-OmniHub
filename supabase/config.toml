project_id = "rtopreovkywofgwgmozi"

# Auth configuration
[auth]
enable_signup = true

# Enable Web3 authentication providers
[auth.external.ethereum]
enabled = true
client_id = "env(ETHEREUM_CLIENT_ID)"
secret = "env(ETHEREUM_CLIENT_SECRET)"
# Note: For demo/CI mode, set ETHEREUM_CLIENT_ID=demo and ETHEREUM_CLIENT_SECRET=demo

[auth.external.solana]
enabled = false  # Enable when Solana support is needed

# Edge Functions Configuration
[functions.storage-upload-url]
verify_jwt = true

[functions.supabase_healthcheck]
verify_jwt = false

[functions.execute-automation]
verify_jwt = true

[functions.test-integration]
verify_jwt = true

[functions.apex-assistant]
verify_jwt = true

[functions.apex-voice]
verify_jwt = false

[functions.lovable-device]
verify_jwt = false

[functions.lovable-audit]
verify_jwt = false

[functions.lovable-healthcheck]
verify_jwt = false

# Web3 Authentication Functions
[functions.web3-nonce]
verify_jwt = false  # Public endpoint to generate nonce for wallet signature

[functions.web3-verify]
verify_jwt = true  # Requires JWT for wallet signature verification

[functions.verify-nft]
verify_jwt = true  # Requires authenticated user to check NFT ownership

[functions.alchemy-webhook]
verify_jwt = false  # Webhook endpoint from Alchemy (uses signature verification)

# Environment Variables for Edge Functions
# These blockchain-related secrets must be set in production environment:
# - WEB3_PRIVATE_KEY: OmniLink EVM private key for transaction signing
# - ALCHEMY_API_KEY_ETH: Alchemy API key for Ethereum RPC access
# - ALCHEMY_API_KEY_POLYGON: Alchemy API key for Polygon RPC access
# - MEMBERSHIP_NFT_ADDRESS: Deployed APEXMembershipNFT contract address
# - ALCHEMY_WEBHOOK_SIGNING_KEY: Secret for verifying Alchemy webhook signatures
#
# Set these in Supabase Dashboard → Project Settings → Edge Functions → Environment Variables
# DO NOT hardcode these values in code - they must be loaded from environment
