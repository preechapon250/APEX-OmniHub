ðŸ§ª Tests (unit)
failed 25 minutes ago in 29s
Search logs
1s
0s
2s
9s
15s
Run npm run test:unit

> vite_react_shadcn_ts@0.0.0 test:unit
> vitest run --coverage

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`

 RUN  v3.2.4 /home/runner/work/FLOWBills/FLOWBills
      Coverage enabled with v8

 âœ“ src/__tests__/lib/pricing.test.ts (18 tests) 28ms
 âœ“ src/__tests__/e-invoicing/golden-tests.test.ts (13 tests) 14ms
stderr | src/__tests__/integration/app-functionality.test.tsx > Application Integration Tests > should render application without crashing
stdout | src/__tests__/integration/app-functionality.test.tsx > Application Integration Tests > should render application without crashing
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[Auth] State changed: INITIAL_SESSION User: undefined

stdout | src/__tests__/integration/app-functionality.test.tsx > Application Integration Tests > should render application without crashing
[Auth] State changed: INITIAL_SESSION User: undefined

stderr | src/__tests__/integration/app-functionality.test.tsx > Application Integration Tests > should render application without crashing
react-i18next:: useTranslation: You will need to pass in an i18next instance by using initReactI18next { code: 'NO_I18NEXT_INSTANCE' }

stderr | src/__tests__/integration/app-functionality.test.tsx > Application Integration Tests > should handle errors gracefully with ErrorBoundary
stdout | src/__tests__/integration/app-functionality.test.tsx > Application Integration Tests > should handle errors gracefully with ErrorBoundary
[Auth] State changed: INITIAL_SESSION User: undefined

Error: Test error
    at ThrowError (/home/runner/work/FLOWBills/FLOWBills/src/__tests__/integration/app-functionality.test.tsx:115:13)
    at renderWithHooks (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
Error: Test error
    at ThrowError (/home/runner/work/FLOWBills/FLOWBills/src/__tests__/integration/app-functionality.test.tsx:115:13)
    at renderWithHooks (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/FLOWBills/FLOWBills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
The above error occurred in the <ThrowError> component:

    at ThrowError (/home/runner/work/FLOWBills/FLOWBills/src/__tests__/integration/app-functionality.test.tsx:161:19)
    at ErrorBoundary (/home/runner/work/FLOWBills/FLOWBills/src/components/error-boundary/ErrorBoundary.tsx:210:5)
    at AuthProvider (/home/runner/work/FLOWBills/FLOWBills/src/hooks/useAuth.tsx:10:25)
    at Router (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/runner/work/FLOWBills/FLOWBills/node_modules/react-router/dist/umd/react-router.development.js:1101:7)
    at Provider (file:///home/runner/work/FLOWBills/FLOWBills/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
    at TooltipProvider (file:///home/runner/work/FLOWBills/FLOWBills/node_modules/@radix-ui/react-tooltip/dist/index.mjs:29:5)
    at QueryClientProvider (file:///home/runner/work/FLOWBills/FLOWBills/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)

React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.
